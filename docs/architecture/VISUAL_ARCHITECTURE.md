# Visual Architecture Diagrams

**Version:** 1.0.0
**Last Updated:** 2024-11-01

## System Architecture Layers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 CLIENT BROWSER                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚           PRESENTATION LAYER                        â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  Pages      â”‚  â”‚  Layouts     â”‚  â”‚ Components â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  app/*.jsx  â”‚  â”‚  Layout.jsx  â”‚  â”‚ *.jsx      â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â”‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚       APPLICATION LAYER (State & Effects)            â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ Custom Hooks â”‚  â”‚   Stores     â”‚  â”‚ State Mgmt â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ useAuth()    â”‚  â”‚ authStore    â”‚  â”‚ Context    â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â”‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚    DOMAIN LAYER (Pure Business Logic)                â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ Validators   â”‚  â”‚ Formatters   â”‚  â”‚ Transforms â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ validators.jsâ”‚  â”‚ formatters   â”‚  â”‚ arrays.js  â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â”‚                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                     HTTP / FETCH
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SERVER (Next.js)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                           â”‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚      INFRASTRUCTURE LAYER                            â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  API Routes  â”‚  â”‚   Services   â”‚  â”‚ Middleware â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  /api/*.js   â”‚  â”‚ auth-service â”‚  â”‚ validation â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â”‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚      PERSISTENCE LAYER                               â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  Database    â”‚  â”‚  Cache       â”‚  â”‚ File Store â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  PostgreSQL  â”‚  â”‚  Redis       â”‚  â”‚ Cloud      â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Component Architecture

```
App
â”œâ”€â”€ Layout (Root)
â”‚   â”œâ”€â”€ Header
â”‚   â”‚   â”œâ”€â”€ Logo
â”‚   â”‚   â”œâ”€â”€ Navigation
â”‚   â”‚   â”‚   â”œâ”€â”€ NavLink
â”‚   â”‚   â”‚   â””â”€â”€ NavLink
â”‚   â”‚   â””â”€â”€ UserMenu
â”‚   â”‚       â”œâ”€â”€ Avatar
â”‚   â”‚       â””â”€â”€ Dropdown
â”‚   â”‚
â”‚   â”œâ”€â”€ Sidebar
â”‚   â”‚   â”œâ”€â”€ NavLink
â”‚   â”‚   â”œâ”€â”€ NavLink
â”‚   â”‚   â””â”€â”€ NavLink
â”‚   â”‚
â”‚   â”œâ”€â”€ Main Content (Outlet)
â”‚   â”‚   â””â”€â”€ (Dynamic Page Content)
â”‚   â”‚
â”‚   â””â”€â”€ Footer
â”‚       â”œâ”€â”€ Copyright
â”‚       â”œâ”€â”€ Links
â”‚       â””â”€â”€ SocialMedia
â”‚
â”œâ”€â”€ Modals (Portal)
â”‚   â”œâ”€â”€ Modal
â”‚   â”‚   â””â”€â”€ Confirm
â”‚   â””â”€â”€ Modal
â”‚       â””â”€â”€ AlertDialog
â”‚
â””â”€â”€ Notifications (Toast)
    â”œâ”€â”€ Toast
    â”œâ”€â”€ Toast
    â””â”€â”€ Toast
```

## Data Flow Diagram

```
User Interaction
      â”‚
      â–¼
Event Handler (onClick, onChange, etc)
      â”‚
      â”œâ”€ Simple State? â”€â”€â–º useState â”€â”€â”
      â”‚                               â”‚
      â””â”€ Complex State? â”€â”€â–º Store â”€â”€â”€â”€â”¤
                            (Zustand)  â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
Validation (Pure Function)
      â”‚
      â”œâ”€ Valid? â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚                                 â”‚
      â””â”€ Invalid? â”€â”€â–º Show Errors â”€â”€â”   â”‚
                                   â”‚   â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
      â”‚                                  â”‚
      â–¼                                  â”‚
API Request (fetch/axios)                â”‚
      â”‚                                  â”‚
      â”œâ”€ Success? â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
      â”‚  â”œâ”€ Update Store              â”‚  â”‚
      â”‚  â””â”€ Navigate/Notify           â”‚  â”‚
      â”‚                               â”‚  â”‚
      â””â”€ Error? â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
         â”œâ”€ Show Error Toast       â”‚  â”‚  â”‚
         â””â”€ Log to Sentry          â”‚  â”‚  â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
      â”‚                                 â”‚
      â–¼                                 â”‚
Re-render Component                    â”‚
      â”‚                                â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         (User sees update)
```

## Testing Pyramid

```
           â–³ E2E Tests
          â•± â•² (Playwright)
         â•±   â•² - Full user journeys
        â•±     â•² - Cross-browser
       â•±       â•² - Realistic scenarios
      â•±â”€â”€â”€â”€â”€â”€â”€â”€â”€â•²
     â•± Integrat.â•² Integration Tests
    â•±     Tests  â•² (Vitest + Testing Library)
   â•±  (Vitest +   â•² - Component behavior
  â•±   Testing Lib)  â•² - Hook integration
 â•±â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•² - Store updates
â•± Unit Tests        â•²
â”‚ (Vitest)          â”‚
â”‚ - Pure functions  â”‚
â”‚ - Utilities       â”‚
â”‚ - Validators      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Deployment Pipeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Developer commits to main branch            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GitHub Actions Triggered                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚            â”‚            â”‚
    â–¼            â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Lint   â”‚  â”‚   Unit   â”‚  â”‚  Build  â”‚
â”‚  (5m)   â”‚  â”‚  Tests   â”‚  â”‚  (15m)  â”‚
â”‚         â”‚  â”‚  (10m)   â”‚  â”‚         â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚            â”‚             â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
         All Pass?
                  â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                 â”‚
        No                Yes
         â”‚                 â”‚
         â–¼                 â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Build   â”‚      â”‚ E2E      â”‚
    â”‚ Failed  â”‚      â”‚ Tests    â”‚
    â”‚ Email   â”‚      â”‚ (15m)    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                          â”‚
                   All Pass?
                          â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                                 â”‚
        No                               Yes
         â”‚                                 â”‚
         â–¼                                 â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Failure â”‚                    â”‚ Deploy to  â”‚
    â”‚ Notify  â”‚                    â”‚ Vercel     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚ (5m)       â”‚
                                   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                   â”‚ Live on   â”‚
                                   â”‚ Productionâ”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Hive Mind Coordination Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Feature Request                          â”‚
â”‚        (New feature or bug fix to implement)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                           â”‚
           â–¼ Parallel Execution        â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
    â”‚  BDD Expert     â”‚               â”‚
    â”‚  (5-10 min)     â”‚               â”‚
    â”‚  - Review spec  â”‚               â”‚
    â”‚  - Check UL     â”‚               â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
           â”‚                          â”‚
      Updates â”€â”€â”                     â”‚
           â”‚    â”‚                     â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”              â”‚
    â”‚  DDD Expert      â”‚              â”‚
    â”‚  (10-15 min)     â”‚              â”‚
    â”‚  - Domain model  â”‚              â”‚
    â”‚  - Aggregates    â”‚              â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
           â”‚                          â”‚
      Designs â”€â”€â”                     â”‚
           â”‚    â”‚                     â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”              â”‚
    â”‚  TDD Specialist  â”‚              â”‚
    â”‚  (15-20 min)     â”‚              â”‚
    â”‚  - Unit tests    â”‚              â”‚
    â”‚  - Integration   â”‚              â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
           â”‚                          â”‚
      Tests Written â”€â”€â”               â”‚
           â”‚          â”‚               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”          â”‚
    â”‚  TypeScript Enforcer â”‚          â”‚
    â”‚  (5 min)             â”‚          â”‚
    â”‚  - Type safety       â”‚          â”‚
    â”‚  - Schema validation â”‚          â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
           â”‚                          â”‚
      Types Validated â”€â”€â”             â”‚
           â”‚            â”‚             â”‚
           â–¼            â”‚             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚             â”‚
    â”‚ Implementation    â”‚             â”‚
    â”‚ Engineer          â”‚             â”‚
    â”‚                   â”‚             â”‚
    â”‚ Executes all tasks:            â”‚
    â”‚ - Writes tests    â”‚             â”‚
    â”‚ - Implements code â”‚             â”‚
    â”‚ - Refactors       â”‚             â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
           â”‚                          â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
    â”‚  Code Reviewer      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚  (10 min)           â”‚
    â”‚  - Quality check    â”‚
    â”‚  - Performance      â”‚
    â”‚  - Accessibility    â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Ready for merge    â”‚
    â”‚  and deployment     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## State Management Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Zustand Store (authStore)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  State:                                  â”‚  â”‚
â”‚  â”‚  - user: null | User                     â”‚  â”‚
â”‚  â”‚  - token: null | string                  â”‚  â”‚
â”‚  â”‚  - isLoading: boolean                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Actions:                                â”‚  â”‚
â”‚  â”‚  - setUser(user)                         â”‚  â”‚
â”‚  â”‚  - setToken(token)                       â”‚  â”‚
â”‚  â”‚  - login(email, password)                â”‚  â”‚
â”‚  â”‚  - logout()                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚              â”‚              â”‚
      â–¼              â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Component â”‚  â”‚  Hook    â”‚  â”‚ Service  â”‚
â”‚subscribesâ”‚  â”‚accesses  â”‚  â”‚ updates  â”‚
â”‚  to      â”‚  â”‚  state   â”‚  â”‚  store   â”‚
â”‚ updates  â”‚  â”‚          â”‚  â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Error Handling Flow

```
Error Occurs
    â”‚
    â”œâ”€ Type Check
    â”‚   â”‚
    â”‚   â”œâ”€ ValidationError (Zod)
    â”‚   â”‚   â””â”€ Show field-level errors
    â”‚   â”‚
    â”‚   â”œâ”€ TypeError (Network)
    â”‚   â”‚   â””â”€ Show retry toast
    â”‚   â”‚
    â”‚   â”œâ”€ FetchError (HTTP)
    â”‚   â”‚   â”œâ”€ 400-499 â”€â–º Show error message
    â”‚   â”‚   â”œâ”€ 401 â”€â”€â”€â”€â”€â–º Redirect to login
    â”‚   â”‚   â””â”€ 500+ â”€â”€â”€â”€â”€â–º Show support message
    â”‚   â”‚
    â”‚   â””â”€ Other Error
    â”‚       â””â”€ Log to Sentry
    â”‚
    â””â”€ User Feedback
        â”œâ”€ Toast notification
        â”œâ”€ Error boundary fallback
        â””â”€ Graceful degradation
```

## File Structure Visualization

```
nextjs-starter/
â”‚
â”œâ”€â”€ ğŸ“ app/                          (Next.js Routes)
â”‚   â”œâ”€â”€ ğŸ“„ layout.jsx
â”‚   â”œâ”€â”€ ğŸ“„ page.jsx
â”‚   â”œâ”€â”€ ğŸ“ (auth)/
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ layout.jsx
â”‚   â”‚   â”œâ”€â”€ ğŸ“ login/
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ page.jsx
â”‚   â”‚   â””â”€â”€ ğŸ“ signup/
â”‚   â”‚       â””â”€â”€ ğŸ“„ page.jsx
â”‚   â”œâ”€â”€ ğŸ“ api/
â”‚   â”‚   â””â”€â”€ ğŸ“ auth/
â”‚   â”‚       â”œâ”€â”€ ğŸ“ login/
â”‚   â”‚       â”‚   â””â”€â”€ ğŸ“„ route.js
â”‚   â”‚       â””â”€â”€ ğŸ“ logout/
â”‚   â”‚           â””â”€â”€ ğŸ“„ route.js
â”‚   â””â”€â”€ ğŸ“ dashboard/
â”‚       â”œâ”€â”€ ğŸ“„ layout.jsx
â”‚       â””â”€â”€ ğŸ“„ page.jsx
â”‚
â”œâ”€â”€ ğŸ“ src/
â”‚   â”œâ”€â”€ ğŸ“ components/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ common/
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ Button/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Button.jsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ Button.test.js
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ Input/
â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ“„ Input.jsx
â”‚   â”‚   â”‚       â””â”€â”€ ğŸ“„ Input.test.js
â”‚   â”‚   â”œâ”€â”€ ğŸ“ features/
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ Auth/
â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ“„ LoginForm.jsx
â”‚   â”‚   â”‚       â””â”€â”€ ğŸ“„ LoginForm.test.js
â”‚   â”‚   â””â”€â”€ ğŸ“ layouts/
â”‚   â”‚       â””â”€â”€ ğŸ“„ MainLayout.jsx
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ utils/              (Pure Functions)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ validators.js
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ validators.test.js
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ formatters.js
â”‚   â”‚   â””â”€â”€ ğŸ“„ formatters.test.js
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ hooks/              (React Hooks)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ useAuth.js
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ useAuth.test.js
â”‚   â”‚   â””â”€â”€ ğŸ“„ useFetch.js
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ services/           (API Clients)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ auth-service.js
â”‚   â”‚   â””â”€â”€ ğŸ“„ api-service.js
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ stores/             (State Management)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ authStore.js
â”‚   â”‚   â””â”€â”€ ğŸ“„ authStore.test.js
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ test/               (Test Utilities)
â”‚       â”œâ”€â”€ ğŸ“„ setup.js
â”‚       â””â”€â”€ ğŸ“„ mocks.js
â”‚
â”œâ”€â”€ ğŸ“ tests/                  (E2E Tests)
â”‚   â””â”€â”€ ğŸ“ e2e/
â”‚       â”œâ”€â”€ ğŸ“„ auth.spec.js
â”‚       â””â”€â”€ ğŸ“„ dashboard.spec.js
â”‚
â”œâ”€â”€ ğŸ“ docs/
â”‚   â”œâ”€â”€ ğŸ“ architecture/       (This Documentation)
â”‚   â”œâ”€â”€ ğŸ“ features/           (BDD Gherkin Files)
â”‚   â””â”€â”€ ğŸ“ guides/
â”‚
â””â”€â”€ ğŸ“ .github/
    â””â”€â”€ ğŸ“ workflows/
        â”œâ”€â”€ ğŸ“„ ci.yml
        â””â”€â”€ ğŸ“„ deploy.yml
```

---

These visual diagrams provide quick reference for understanding the system architecture at different levels of abstraction.
